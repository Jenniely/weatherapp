(this.webpackJsonpweatherapp=this.webpackJsonpweatherapp||[]).push([[0],{14:function(e,t,n){e.exports=n(42)},19:function(e,t,n){},34:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),c=n(13),o=n.n(c),r=(n(19),n(1)),s=n(2),l=n(4),u=n(3),h=n(5),m=n(6),d=n.n(m),p=(n(34),function(e){return i.a.createElement("div",{className:"temperature"},i.a.createElement("h2",null,Math.round(e.data),"\xb0"))}),f=n(7),b=n.n(f),g=(n(36),function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={time:b.a.utc().add(n.props.offset,"s").format("ddd, h:mm:ss A")},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.intervalID=setInterval((function(){return e.tick()}),1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.intervalID)}},{key:"tick",value:function(e){this.setState({time:b.a.utc().add(this.props.offset,"s").format("ddd, h:mm:ss A")})}},{key:"render",value:function(){return i.a.createElement("div",{className:"time"},i.a.createElement("h3",null,this.state.time))}}]),t}(a.Component)),v=(n(37),function(e){return i.a.createElement("div",{className:"weather"},i.a.createElement("h2",null,e.description.main),i.a.createElement("h3",null,e.description.description))}),E=(n(38),function(e){var t=e.handleSubmit,n=e.handleChange,a=e.userInput;return i.a.createElement("form",{className:"search",onSubmit:t},i.a.createElement("label",{htmlFor:"cityname"}," Enter city"),i.a.createElement("input",{id:"cityname",name:"cityname",type:"text",onChange:n,value:a}),i.a.createElement("button",null,"Submit"))}),k=(n(39),function(e){return i.a.createElement("div",{className:"error hidden"},i.a.createElement("p",null,"Location not found"))}),w=(n(40),function(e){var t=e.handleToggle,n=e.isToggleOn;return i.a.createElement("button",{className:"btn",onClick:t},n?"C":"F")}),y=(n(41),function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(l.a)(this,Object(u.a)(t).call(this))).handleChange=function(t){e.setState({userInput:t.target.value})},e.handleSubmit=function(t){t.preventDefault(),""!==e.userInput&&e.setState({location:e.state.userInput})},e.handleToggle=function(){e.setState((function(e){return{isToggleOn:!e.isToggleOn}})),"metric"===e.state.units&&e.setState({units:"imperial"}),"imperial"===e.state.units&&e.setState({units:"metric"})},e.state={location:"Houston",weather:{},description:{},timezone:0,userInput:"",units:"metric",backgroundUrl:"",hasError:!1,isToggleOn:!0},e}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.callWeatherApi(this.state.location,this.state.units),this.callUnsplash("clouds")}},{key:"componentDidUpdate",value:function(e,t){t.location===this.state.location&&t.units===this.state.units||(this.callUnsplash(this.state.description.main),this.callWeatherApi(this.state.location,this.state.units))}},{key:"callWeatherApi",value:function(e,t){var n=this,a="https://api.openweathermap.org/data/2.5/weather?q=".concat(e,"&units=").concat(t,"&APPID=").concat("fd9f9132bce794b17d12ce306e8ba0db");fetch(a).then((function(e){return e.json()})).then((function(e){return n.setState({weather:e.main,description:e.weather[0],timezone:e.timezone,hasError:!1})})).catch((function(e){n.setState({hasError:!0})}))}},{key:"callUnsplash",value:function(e){var t=this,n=window.innerWidth;new d.a({accessKey:"3ab23bcb1ed8a2dcbe86f09fa4127e1b976918726521ca7e5ffc4c45e47f940a",secret:"4c54d7372592e3ce053d033a9a5f5e18cee49f86635beaddcdc889c52b8bce6f",callbackUrl:"http://unsplash-js.herokuapp.com"}).photos.getRandomPhoto({query:e,orientation:"landscape"}).then(m.toJson).then((function(e){t.setState({backgroundUrl:e.urls.raw+"&w=".concat(n,"&dpi=2")})}))}},{key:"render",value:function(){var e=this.state,t=e.location,n=e.weather,a=e.description,c=e.timezone,o=e.userInput,r=e.backgroundUrl,s=e.hasError,l=e.isToggleOn;return i.a.createElement("div",{className:"App",style:{backgroundImage:"url(".concat(r,")")}},i.a.createElement("h2",{className:"cityName"},t),i.a.createElement(g,{offset:c}),i.a.createElement(p,{data:n.temp}),i.a.createElement(v,{description:a}),i.a.createElement(E,{handleSubmit:this.handleSubmit,userInput:o,handleChange:this.handleChange}),s&&i.a.createElement(k,null),i.a.createElement(w,{isToggleOn:l,handleToggle:this.handleToggle}))}}]),t}(a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[14,1,2]]]);
//# sourceMappingURL=main.315e315b.chunk.js.map